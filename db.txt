User: knowledge_project_admin
Password: KnowledgeBase2019
---------------------------------------------------------------

// Creating tables
Table users as U {
  id int
	surname varchar
	name varchar
  email varchar
  password varchar
  admin tinyint
  change_pass tinyint
}

Table cases {
  id int
	created_by id
	title varchar
  desc varchar
  category_id int
  created_at timestamp
  deleted tinyint
  modified_at timestamp
  variant id
}

Table rappresentations{
  id_case int
  date datetime
}

Table categories{
  id int
  name varchar
}

Ref: "cases"."created_by" < "users"."id"

Ref: "cases"."id" < "rappresentations"."id_case"

Ref: "categories"."id" < "cases"."category_id"


Ref: "cases"."variant" < "cases"."id"


------------------------------------------------
Create admin user:

CREATE USER 'knowledge_project_admin'@'%' IDENTIFIED BY '******';
GRANT ALL PRIVILEGES ON knowledge_base_db.* TO 'knowledge_project_admin'@'%';

________________________________________________-
Sql script:

create database knowledge_base_db;

use knowledge_base_db;

create table users (
	id int primary key auto_increment,
    surname varchar(50) not null,
    name varchar(50) not null,
    email  varchar(255) unique,
    is_admin tinyint(1) not null,
    change_pass tinyint(1) not null,
    password varchar(255) not null
);

create table categories (
	id int primary key auto_increment,
    name varchar(50) not null unique
);

create table cases (
	id int primary key auto_increment,
    created_by int,
    title varchar(255) not null,
    description text not null,
    category_id int,
    created_at timestamp not null,
    deleted tinyint not null,
    modified_at timestamp,
    variant int,
    
    FOREIGN KEY (variant) REFERENCES cases(id)
    on update cascade
    on delete set null,
    
    FOREIGN KEY (category_id) REFERENCES categories(id)
    on update cascade
    on delete set null,
    
    FOREIGN KEY (created_by) REFERENCES users(id)
    on update cascade
    on delete set null
);

create table representation (
	id_case int,
	id_variant int,
    date timestamp,
    
    primary key(id_case, date),
    FOREIGN KEY (id_case) REFERENCES cases(id)
    on delete cascade
    on update cascade,
FOREIGN KEY (id_variant) REFERENCES cases(id)
    on delete cascade
    on update cascade
);

-------------------------------------------------------
insert into users (name, surname, email, password, is_admin, change_pass) values ('bryan', 'beffa', 'aa@a.a', '$2y$10$4H8Og1W3LFV3JnahrgCe1e39JaBup328sRr8N6/JBz/2eE1YSjeXa', 0, 0);